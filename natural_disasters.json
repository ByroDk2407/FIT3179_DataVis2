{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 600,
  "height": 400,
  "title":"Natural Disasters",
  "data": {
    "url": "https://raw.githubusercontent.com/ByroDk2407/FIT3179_DataVis2/refs/heads/main/datasets/natural-disasters.csv"
  },
  
  "params":[
    {
      "name": "center_to",
      "value": "Australia",
      "bind": {
        "input": "select",
        "options": [
            [145, -37.95],
            [144.3, -38.1],
            [144.9, -36.7],
            [147.1, -38.1]
        ],
        "labels": ["Melbourne CBD", "Geelong", "Bendigo", "Sale"],
        "name": "Map Centre: "
      }
    }
  ],

  "transform": [
    {
      "calculate": "datum['Number of deaths from earthquakes']", 
      "as": "Earthquakes"
    },
    {
      "calculate": "datum['Number of deaths from drought']", 
      "as": "Droughts"
    },
    {
      "calculate": "datum['Number of deaths from disasters']", 
      "as": "Disasters"
    },
    {
      "calculate": "datum['Number of deaths from volcanic activity']", 
      "as": "Volcanic Activity"
    },
    {
      "calculate": "datum['Number of deaths from floods']", 
      "as": "Floods"
    },
    {
      "calculate": "datum['Number of deaths from storms']", 
      "as": "Storms"
    },
    {
      "calculate": "datum['Number of deaths from landslides']", 
      "as": "Landslides"
    },
    {
      "calculate": "datum['Number of deaths from wildfires']", 
      "as": "Wildfires"
    }
  ],

  
  "mark": {
    "type": "circle",
    "opacity": 0.9,
    "stroke": "black",
    "strokeWidth": 1
  },
  "encoding": {
    "x": {
      "field": "Year",
      "type": "temporal",
      "axis": {"grid": false}
    },
    "y": {
      "field": "Floods",
      "type": "nominal",
      "axis": {"title": "Type of Disaster"}
    },
    "size": {
      "field": "Floods",
      "type": "quantitative",
      "title": "Annual Deaths",
      "legend": {"clipHeight": 30},
      "scale": {"rangeMax": 5000}
    },
    "color": {
      "field": "Country name",
      "type": "nominal",
      "legend": null
    }
  }
}
