{
    "type": "text",
    "encode": {
      "enter": {
        "align": {"value": "center"},
        "baseline": {"value": "top"},
        "fill": {"value": "black"}
      },
      "update": {
        "x": {"scale": "x", "signal": "tooltip.Entity", "band": 0.5},
        "y": {"scale": "y", "signal": "tooltip['Fossil fuels (TWh)']"},
        "text": {
          "signal": "tooltip.Entity && tooltip.Year && tooltip['Fossil fuels (TWh)'] ? tooltip.Year + '\\n' + tooltip['Fossil fuels (TWh)'] : ''"
        },
        "fillOpacity": [{"test": "tooltip.Entity && tooltip.Year && tooltip['Fossil fuels (TWh)']", "value": 1}, {"value": 0}]
      }
    }
  }